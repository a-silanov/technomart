let cartButtons=document.querySelectorAll(".btn-cart"),cartPopup=document.querySelector(".add-cart-popup"),cartClose=cartPopup.querySelector(".close-btn"),cartContinue=cartPopup.querySelector(".continue");for(let a of cartButtons)a.addEventListener("click",function(a){a.preventDefault(),cartPopup.classList.add("popup")});cartClose.addEventListener("click",function(){cartPopup.classList.remove("popup")}),cartContinue.addEventListener("click",function(){cartPopup.classList.remove("popup")});let writeUsButton=document.querySelector(".writeus-btn"),writeUsPopup=document.querySelector(".popup-writeus"),writeUsClose=writeUsPopup.querySelector(".close-btn"),writeUsForm=writeUsPopup.querySelector(".write-us-form"),writeUsName=writeUsPopup.querySelector(".write-us-name"),writeUsEmail=writeUsPopup.querySelector(".writeus-email"),writeUsMessage=writeUsPopup.querySelector(".write-us-message"),mapButton=document.querySelector(".map-link"),mapPopup=document.querySelector(".popup-map"),mapClose=mapPopup.querySelector(".close-btn"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("userName")}catch(a){isStorageSupport=!1}try{storageEmail=localStorage.getItem("userEmail")}catch(a){isStorageSupport=!1}writeUsButton.addEventListener("click",function(a){a.preventDefault(),writeUsPopup.classList.add("popup"),storageName&&storageEmail?(writeUsName.value=storageName,writeUsEmail.value=storageEmail,writeUsMessage.focus()):writeUsName.focus()}),writeUsClose.addEventListener("click",function(){writeUsPopup.classList.remove("popup"),writeUsPopup.classList.remove("write-us-error")}),writeUsForm.addEventListener("submit",function(a){writeUsName.value&&writeUsEmail.value&&writeUsMessage.value?isStorageSupport&&(localStorage.setItem("userName",writeUsName.value),localStorage.setItem("userEmail",writeUsEmail.value)):(a.preventDefault(),writeUsPopup.classList.remove("write-us-error"),writeUsPopup.offsetWidth=writeUsPopup.offsetWidth,writeUsPopup.classList.add("write-us-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&(writeUsPopup.classList.contains("popup")||mapPopup.classList.contains("popup")||cartPopup.classList.contains("popup"))&&(a.preventDefault(),writeUsPopup.classList.remove("popup"),writeUsPopup.classList.remove("write-us-error"),mapPopup.classList.remove("popup"),cartPopup.classList.remove("popup"))}),mapButton.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("popup")}),mapClose.addEventListener("click",function(){mapPopup.classList.remove("popup")});